doctype html
html(lang="en")
  head
    meta(charset="UTF-8")
    meta(http-equiv="X-UA-Compatible", content="IE=edge")
    meta(name="viewport", content="width=device-width, initial-scale=1.0")
    title Team61 Newsletter
    style.
      html, body {
        background: #f0eeff;
        margin: 0;
        padding: 0;
      }
    
      body {
        width: 600px;
        margin: 0 auto;
      }

      header {
        width: 100%;
        margin-top: 2rem;
        background: #500050;
        display: flex;
        justify-content: flex-start;
        align-items: center;
        padding: 1rem;
        z-index: 20;
      }

      header h1 {
        display: block;
        width: 100%;
        text-align: center;
        color: #f0eeff;
      }

      section {
        position: relative;
        padding: 1rem;
        margin: 0;
        width: 100%;
        display: flex;
        justify-content: flex-start;
        align-items: center;
      }

      section div {
        color: #110022;
      }

      .date-container {
        padding: 0.5rem;
        margin-right: 1.5rem;
        flex: 1;
      }

      .date-container p {
        padding: 0;
        margin: 0;
        text-align: center;
        display: block;
        width: 150px;
      }

      p.month {
        font-size: 2.5em;
        font-weight: bold;
      }

      p.date {
        font-size: 1.25em;
        font-weight: bold;
      }

      section::before {
        content: "";
        position: absolute;
        top: -50px;
        right: 0;
        height: 50px;
        width: 25px;
        border-bottom-right-radius: 25px;
        background: transparent;
        z-index: 1;
      }

      section::after {
        content: "";
        position: absolute;
        bottom: -50px;
        left: 0;
        height: 50px;
        width: 25px;
        border-top-left-radius: 25px;
        background: transparent;
        z-index: 1;
      }

      .variant-0 {
        background: #ddaaff;
      }

      .variant-0:not(:first-child):before {
        box-shadow: 0 25px 0 0 #ddaaff;
      }

      .variant-0:after {
        box-shadow: 0 -25px 0 0 #ddaaff;
      }

      .variant-1 {
        background: #ffddaa;
      }

      .variant-1:before {
        box-shadow: 0 25px 0 0 #ffddaa;
      }

      .variant-1:not(:last-child):after {
        box-shadow: 0 -25px 0 0 #ffddaa;
      }

      footer {
        width: 100%;
        margin-bottom: 2rem;
        background: #500050;
        padding: 1rem;
        color: #999499;
        z-index: 20;
      }

      footer h4 {
        margin: 0;
        display: block;
        width: 100%;
        text-align: center;
      }

      pre.remind {
        display: inline;
        text-decoration: underline;
      }
  body
    header
      img(src="https://www.valleytech.k12.ma.us/cms/lib/MA01907491/Centricity/Template/GlobalAssets/images///logos/bvt-district.png", alt="BVT Logo")
      h1 Team61 Newsletter
    main
      - const months = ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"];
      - for (let i = 0; i < messages.length; i++) {
        - const message = messages[i];
        - const date = [months[message.date.getMonth()], message.date.getDate(), message.date.getFullYear()]; // TODO: make date optional
          section(class=`variant-${i % 2}`)
            - if (!isNaN(message.date)) {
              div.date-container
                p.month= date[0]
                p.date= `${date[1]}, ${date[2]}`
            - }
            div
              h2= message.heading
              p= message.body
      - }
    footer
      h4 Remind: #[pre.remind team61ro]
      h4 Mettings every Tuesday at 2:15
